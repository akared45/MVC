@model Long.Models.Product

@{
    ViewBag.Title = "Chi Tiết Sản Phẩm";
}
<h2>@Model.Name</h2>

<div class="row">
    <div class="col-md-6">
        <img src="@Model.ImageUrl" alt="@Model.Name" class="img-fluid" />
    </div>
    <div class="col-md-6">
        <p><strong>Giá:</strong> @Model.Price.ToString("N0") VND</p>
        <p><strong>Mô Tả:</strong> @Model.Description</p>
        <button class="btn btn-success" onclick="addToCart(@Model.Id)">Mua Hàng</button>
    </div>
</div>

<a href="@Url.Action("Index", "Home")" class="btn btn-secondary mt-3">Quay Lại</a>

<script>
    function addToCart(productId) {
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        if (!cart.includes(productId)) {
            cart.push(productId);
            localStorage.setItem('cart', JSON.stringify(cart));
            alert('Sản phẩm đã được thêm vào giỏ hàng!');
        } else {
            alert('Sản phẩm đã có trong giỏ hàng!');
        }
    }
</script>